/*!
 *
 * Copyright 2017 - acrazing
 *
 * @author acrazing joking.young@gmail.com
 * @since 2017-12-15 12:29:38
 * @version 1.0.0
 * @desc sleep.ts
 */
import { ANY } from './consts';
export function sleep(time) {
    var clear = ANY;
    var timer = new Promise(function (resolve, reject) {
        var state = 'pending';
        var handle = setTimeout(function () {
            if (state === 'pending') {
                state = 'fulfilled';
                resolve();
            }
        }, time);
        clear = function (_resolve) {
            if (state === 'pending') {
                state = 'rejected';
                clearTimeout(handle);
                if (_resolve === true) {
                    resolve(void 0);
                }
                else {
                    reject();
                }
            }
        };
    });
    timer.interrupt = clear;
    return timer;
}
//# sourceMappingURL=sleep.js.map