/*!
 * Copyright 2019 acrazing <joking.young@gmail.com>. All rights reserved.
 * @since 2019-01-15 12:40:14
 */

import { observable, runInAction } from 'mobx';
import { asyncAction } from './asyncAction';

const value = observable({ value: 1 });

const updateValue = asyncAction(
  (i: number) => Promise.resolve(i),
  (v) => (value.value = v),
);

runInAction(async () => {
  await updateValue(2);
  console.log('value', value.value);
});
